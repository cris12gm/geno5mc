{% extends "base.html" %}
{% load staticfiles %}

{% block content %}

<!-- Latest compiled and minified CSS -->
<link href="{% static 'css/bootstrap-select.min.css'%}" rel="stylesheet">

<div id="page-wrapper">

    {% if traits %}
        <div class="row">
            <div class="col-lg-12">
                <div class="card" style="width: 25rem;">
                    <div class="card-header"><center><h3><b>Query Trait</b></h3></center></div>
                    <div class="card-body">
                        <form action="{% url 'queryTrait' %}" method="post" onsubmit="ShowLoading()" id="formTrait">
                            {% csrf_token %}
                            <select id="traits" name="traitslist" class="selectpicker" data-live-search="true" form="formTrait">
                                {% for trait in traits %}
                                    <option value="{{trait}}">{{trait}}</option>
                                {% endfor %}
                            </select>
                            <br><br>
                            <button type="submit" id='submit_btn' class="btn btn-success btn-sm">Submit</button>
                        </form>  
                    </div>
                </div>          
            </div>
        </div>
    {% endif %}

    {% if selectedTrait %}
        <h1>
            {{ selectedTrait }}
        </h1>
        {% if snpsOut %}
        <div class="card mb-3" >             
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-bordered" id="dataTableQueryTrait" width="100%" cellspacing="0">
                        <thead>
                            <tr>
                                <th>SNP ID</th>
                                <th>chrom</th>
                                <th>chromStart</th>
                                <th>Reference</th>
                                <th>Alternative</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for field in snpsOut %}
                            <tr>
                                <td><a href="{{ baseLink }}{{field.snpID}}">{{ field.snpID}}</a></td>
                                <td>{{ field.chrom }}</td>
                                <td>{{ field.chromStart }}</td>
                                <td>{{ field.reference }}</td>
                                <td>{{ field.alternative }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        {% endif %}
    {% endif %}
</div>

{% endblock %}
{% block js %}

<!-- Latest compiled and minified JavaScript -->
<script src="{% static 'js/bootstrap-select.min.js'%}"></script>

<!-- (Optional) Latest compiled and minified JavaScript translation files -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/js/i18n/defaults-*.min.js"></script>

{% endblock %}