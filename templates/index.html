{% extends "base.html" %}
{% load staticfiles %}
{% block css %}
    <link href="{% static 'css/customStyles/stylesIndex.css'%}" rel="stylesheet">
{% endblock %}

{% block content %}
    <div class="menu-hide" id="menu-hide">
        <div class="row">
            <div class="col-lg-12">
                <img id="titleIndex" src="{% static 'images/titleBig.png'%}">
                <div class="card bg-light mb-3">
                        <div class="card-body" id='cardInicio'>
                            <font size="3">
                                geno<sup>5</sup>mC is a database and web-server to explore the associations between <b>DNA methylation</b> and the <b>genotype</b>.
                                Using 58 publically available whole genome bisulfite sequencing datasets we determine sequence variation and methylation state at a single cytosine resolution by means of MethylExtract2. Statistically significant associations (FDR <= 0.05) are determined by means of a Fisher Exact test. 
                            </font>
                        </div>
                </div>
            </div>
        </div>
        <div class = "row">
            <div class= "col-6">
                <div class="buttonIndex">
                    <a href="{% url 'querySNP' %}tour"><button id="buttonTour" class="btn btn-info btn-lg" onclick="ShowLoadingTour()">Take a tour!</button></a>
                </div>
            </div>
            <div class= "col-6">
                <div class="buttonIndex">
                    <a href="{% url 'query' %}" ><button id="buttonQuery" class="btn btn-success btn-lg" onclick="ShowLoading()">Start a query</button></a>
                </div>
            </div>
        </div>
    </div>

{% endblock %}

{% block js %}  
    <script type="text/javascript">
        function ShowLoadingTour(e) {
            $("div.menu-hide").hide();
            $("#buttonTour").attr("disabled", true);
            var div = document.createElement('div');
            var img = document.createElement('img');
            img.src = "{% static 'images/wait.svg'%}";
            div.innerHTML = "<b><font color='#194a90' size='4'>Loading tour, please wait</font></b>";
            div.style.cssText = 'position: fixed; top: 20%; left: 40%; z-index: 5000; width: 422px; text-align: center; background: #FFFFFF;';

            div.appendChild(img);
            document.body.appendChild(div);
            
            return true;
        }
        function ShowLoading(e) {
            $("div.menu-hide").hide();
            var div = document.createElement('div');
            var img = document.createElement('img');
            img.src = "{% static 'images/wait.svg'%}";
            div.style.cssText = 'position: fixed; top: 20%; left: 40%; z-index: 5000; width: 422px; text-align: center; background: #FFFFFF;';

            div.appendChild(img);
            document.body.appendChild(div);
            return true;
        }
    </script>

{% endblock %}
